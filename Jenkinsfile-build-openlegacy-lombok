#!groovy

pipeline {
	agent any
	tools {
		/* Configure this Pipeline to use the Maven version matching "Maven 3.3.9" (configured in "Managing Jenkins" â†’ "Global Tool Configuration") */
		jenkins-ant 'Ant-1.10.1'
		maven 'Maven-3.3.9'
	}
/*	triggers {
		// every two minutes 
		GITScm 
	}
*/
	stages {
		stage('Install dependencies and jars, run tests'){
			steps {
				bat 'ant test-ol-lombok'
			}
		}
		stage('Install jars to maven repository'){
			steps {
				bat 'mvn clean install'
			}
		}
	}