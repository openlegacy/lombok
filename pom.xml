<?xml version="1.0" encoding="UTF-8"?>
<project
    xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

 	    
    <parent>
        <groupId>org.openlegacy</groupId>
        <artifactId>openlegacy-dependencies-manager</artifactId>
        <version>3.6.0-SNAPSHOT</version>
        <relativePath>../openlegacy-dependencies-manager/pom.xml</relativePath>
    </parent>

    <artifactId>openlegacy-lombok</artifactId>
    <version>${project.parent.version}</version>
    <packaging>pom</packaging>

    <name>OpenLegacyLombok</name>
    <description>OpenLegacyLombok is a fork of the Lombok project by Reinier Zwitserloot</description>

    <licenses>
        <license>
            <name>Eclipse Public License - v 1.0</name>
            <url>http://www.eclipse.org/legal/epl-v10.html</url>
        </license>
    </licenses>

   <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
       	<antrun.verison>4.7</antrun.verison>
       	<lombok.version>1.16.12</lombok.version>
    </properties>
    
    <dependencies>
		<dependency>
		    <groupId>org.antlr</groupId>
		    <artifactId>antlr4-runtime</artifactId>
		    <version>${antrun.verison}</version>
		</dependency>
    </dependencies>
    
    
    <build>
    <plugins>
    	<plugin>
		  <artifactId>maven-antrun-plugin</artifactId>
		  <executions>
		    <execution>
		      <phase>process-resources</phase>
		      <configuration>
		      	<target>
		      		<property name="projectVersion" value="${lombok.version}"/>
		          	<ant antfile="build.xml" target="dist"/>
		      	</target>
		        <!-- <tasks>
		          <ant antfile="build.xml" target="dist"/>
		        </tasks> -->
		      </configuration>
		      <goals>
		        <goal>run</goal>
		      </goals>
		    </execution>
		  </executions>
		</plugin>
		<plugin>
			  <groupId>org.codehaus.mojo</groupId>
			  <artifactId>build-helper-maven-plugin</artifactId>
			  <version>1.3</version>
			  <executions>
			    <execution>
			      <id>add-jar</id>
			      <phase>package</phase>
			      <goals>
			        <goal>attach-artifact</goal>
			      </goals>
			      <configuration>
			        <artifacts>
			          <artifact>
			            <file>dist/openlegacy-lombok-1.16.12.jar</file>
			            <type>jar</type>
			          </artifact>
			        </artifacts>
			      </configuration>
			    </execution>
			  </executions>
			</plugin>
		</plugins>
   </build>
 </project>